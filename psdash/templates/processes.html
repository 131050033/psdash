{% extends "base.html" %}
{% block content %}
  <h1 class="page-header">Processes</h1>
  <div class="table-responsive">
    <table id="processes" class="table table-striped table-condensed">
      <thead>
        <tr>
          <th><a href="/processes/pid">PID</a></th>
          <th><a href="/processes/name">Name</a></th>
          <th><a href="/processes/user">User</a></th>
          <th><a href="/processes/status">Status</a></th>
          <th><a href="/processes/created">Created</a></th>
          <th title="Resident Set Size"><a href="/processes/rss">RSS</a></th>
          <th title="Virtual Memory Size"><a href="/processes/vms">VMS</a></th>
          <th><a href="/processes/memory">Memory %</a></th>
          <th><a href="/processes/cpu">CPU %</a></th>
        </tr>
      </thead>
      <tbody>
      {% for p in processes %}
        <tr>
          <td>{{ p.pid }}</td>
          <td title="{{ p.cmdline|join(" ") }}"><a href="/process/{{ p.pid }}">{{ p.name }}</td>
          <td>{{ p.username }}</td>
          <td>{{ p.status }}</td>
          <td>{{ p.create_time }}</td>
          <td>{{ (p.get_memory_info()[0])|filesizeformat }}</td>
          <td>{{ (p.get_memory_info()[1])|filesizeformat }}</td>
          <td>{{ p.get_memory_percent()|round }}</td>
          <td>{{ p.get_cpu_percent(0) }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}